// WARNING: DO NOT DELETE THIS FILE
// This file was auto-generated by the Witnet compiler, any manual changes will be overwritten.
const WitnetRequestsBoardProxy = artifacts.require("WitnetRequestsBoardProxy")
const MockWitnetRequestsBoard = artifacts.require("MockWitnetRequestsBoard")
const CBOR = artifacts.require("CBOR")
const Witnet = artifacts.require("Witnet")

const addresses = {
  "goerli": {
    "BlockRelayProxy": "0x367a7870B0Ca4F70dA5Ce43C5d2046C59Fd7Fe3a",
    "CBOR": "0x3B63c6170e3e95F2c9c01a3986648E12503af116",
    "Witnet": "0x57e53fA6E507Bd294EFe1A7eD3b6fa3546FE1b55",
    "WitnetRequestsBoardProxy": "0x916B67a6D470aF09Fd9379d6C67f8552778346f9",
  },
  "rinkeby": {
    "BlockRelayProxy": "0xBBB618eC53d29B653324c6186A3ADa9Eca4FEB7C",
    "CBOR": "0xa3FC7A242e2ceE49f652346741192dcC9bD2C214",
    "Witnet": "0x466c4119Ea5adC9165cce3BD5c28bcD42D3275D7",
    "WitnetRequestsBoardProxy": "0x9ad9386e6886957A50D30996e35749eC4566a5d9",
  },
}

module.exports = function (deployer, network) {
  network = network.split("-")[0]
  if (network in addresses) {
    Witnet.address = addresses[network]["Witnet"]
    WitnetRequestsBoardProxy.address = addresses[network]["WitnetRequestsBoardProxy"]
  } else {
    deployer.deploy(CBOR)
    deployer.link(CBOR, Witnet)
    deployer.deploy(Witnet)
    deployer.deploy(MockWitnetRequestsBoard).then(function() {
      return deployer.deploy(WitnetRequestsBoardProxy, MockWitnetRequestsBoard.address)
    })

  }
}
